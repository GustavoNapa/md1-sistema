## Tarefas para a Head de CS - Julho 2025

- [x] **Webhook de Inscri√ß√£o**
  - [x] Criar tela para cadastrar URL de webhook dentro do CRUD de Produto.
  - [x] Ao criar/atualizar uma Inscri√ß√£o, disparar POST JSON contendo:
  - [x] Todos os campos de Cliente + Inscri√ß√£o.
  - [x] Objeto `mapping` conforme tabela de equival√™ncia (ex.: `"Nome":"contact_name"`).
  - [x] Disparo condicionado ao `status` da Inscri√ß√£o.

- [x] **Kanban de Inscri√ß√µes**
  - [x] Adicionar seletor (`<select>`) para escolher coluna: Status / Semana / Fase / Faixa de Faturamento.
  - [x] Renderizar colunas com cart√µes, drag-and-drop opcional.
  - [x] Criar CRUD "Faixa de Faturamento".

- [x] **Integra√ß√£o WhatsApp (Evolution API)**
  - [x] Configurar credenciais em `.env`.
  - [x] Criar estrutura de banco de dados (migra√ß√µes, modelos).
  - [x] Implementar tela de chat b√°sica com sidebar e painel.
  - [x] Implementar associa√ß√£o de conversas com clientes/contatos.
  - [x] Implementar Webhook de recep√ß√£o de mensagens.
  - [x] Implementar endpoint de envio via Evolution API.
  - [x] Implementar sistema de filas para envio de mensagens.
  - [x] Adicionar indicadores de status de mensagem (üïí/‚úì/‚úì‚úì/‚ùó).
  - [x] Implementar WebSocket para tempo real.
  - [x] Criar tela de configura√ß√£o da inst√¢ncia WhatsApp (QR Code)




## Kanban de Inscri√ß√µes
- [x] Adicionar seletor (`<select>`) para escolher coluna: Status / Semana / Fase / Faixa de Faturamento. (DONE)
- [x] Renderizar colunas em Bootstrap cards, drag-and-drop opcional. (DONE)
- [x] Criar CRUD "Faixa de Faturamento". (DONE - Implementado na tarefa anterior)




  - [x] Testes PHPUnit/Pest para o webhook de inscri√ß√£o (sucesso, falha, retries)
  - [x] Tela "Hist√≥rico de Webhooks" listando envios, status, tentativa e bot√£o Reenviar
  - [x] Logs detalhados na tabela `webhook_logs` para cada tentativa de envio




  - [ ] Drag-and-Drop para cards do Kanban
  - [ ] Persist√™ncia da escolha do usu√°rio para o seletor de colunas do Kanban
  - [ ] Logs de movimento do Kanban na tabela `kanban_movements`
  - [ ] Scroll infinito para as colunas do Kanban




  - [ ] Criar tela "Canais" para gerenciar n√∫meros/inst√¢ncias (status, QR, logs)
  - [ ] Sincroniza√ß√£o de hist√≥rico (importa√ß√£o em lote + cache)
  - [ ] Notifica√ß√µes (badge nas conversas e sino global para mensagens n√£o lidas)
  - [ ] Importa√ß√£o obrigat√≥ria do hist√≥rico ‚Äì processamento em lote usando filas `messages_sync`
  - [ ] `whatsapp_logs` para registrar lat√™ncia, payload e resposta
  - [ ] `whatsapp_channels` para gerenciar inst√¢ncias (n√∫mero, instanceId, status, QR atual, √∫ltima renova√ß√£o, log)
  - [ ] `whatsapp_channels` CRUD para gerenciar inst√¢ncias
  - [ ] `whatsapp_channels` para renova√ß√£o de QR a cada ~40s at√© "Connected"
  - [ ] Atribui√ß√£o de atendente para cada conversa
  - [ ] Notifica√ß√µes (badge nas conversas e sino global para mensagens n√£o lidas do atendente atribu√≠do)
  - [ ] UI inspirada no WhatsApp Web (bal√µes cinza cliente / verde atendente); avatar, data, ticks ‚úì‚úì
  - [ ] Sandbox para ambiente de teste via Evolution sandbox para CI/Dusk


